<!doctype html>
<html class="no-js" lang="en" data-bs-theme="dark">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>travle</title>
        <meta name="description" content="Travle: A daily game, get between countries in as few guesses as possible!">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- <script src="https://d3js.org/d3.v6.js"></script> -->
        <script type="text/javascript" src="src/d3.min.js"></script>
        <!-- Tooltip package -->
        <!-- <script src="https://unpkg.com/d3-v6-tip@1.0.6/build/d3-v6-tip.js"></script> -->

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
              rel="stylesheet" crossorigin="anonymous">
        <script src="https://kit.fontawesome.com/bd68d721d7.js" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="css/style.css">

        <link rel="icon" href="/icon/favicon.ico" sizes="16x16">
        <link rel="icon" href="/icon/icon_128x128.png" sizes="128x128">
        <!-- <link rel="apple-touch-icon" href="/apple-touch-icon.png"> -->
        <!-- Place favicon.ico in the root directory -->

        <style>

         .stroke {
             fill: none;
             stroke: #000;
             stroke-width: 1px;
         }

         .fill {
             fill: #f2f2f2;
         }

         .graticule {
             fill: none;
             stroke: #777;
             stroke-width: .5px;
             stroke-opacity: .5;
         }

         .land {
             fill: darkgrey;
         }

         .boundary {
             fill: none;
             stroke: #fff;
             stroke-width: .5px;
         }

        </style>

    </head>
    <body>


        <nav class="navbar navbar-expand-sm">
            <div class="container-fluid">
                <div class="navbar-brand navbar-logo">
                    <div class="brand-text">
                        <i class="fa-regular fa-compass"></i>
                        <span>
                            travle
                        </span>
                    </div>
                </div>
                <form class="d-flex">
                    <button type="button" title="Toggle Color Mode" data-bs-toggle="dropdown" aria-expanded="false" class="btn btn-lg btn-outline-secondary nav-button dropdown-toggle">
                        <i id="day-night-selector" class="fa-solid fa-moon"></i>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" onclick="setLightMode()"><i class="fa-solid fa-sun"></i> Light Mode</a></li>
                        <li><a class="dropdown-item" onclick="setDarkMode()"><i class="fa-solid fa-moon"></i> Dark Mode</a></li>
                    </ul>
                    <button type="button" title="Results" onclick="showResultsModal(0)" class="btn btn-lg btn-outline-secondary nav-button">
                        <span class="fa-solid fa-chart-simple"></span>
                    </button>
                    <button type="button" title="Info & How to Play" class="btn btn-lg btn-outline-secondary nav-button" data-bs-toggle="modal" data-bs-target="#explanationModal">
                        <span class="fa-solid fa-question"></span>
                    </button>
                </form>
            </div>
        </nav>

        <!-- TravleBannerAd -->
        <!-- <div align="center">

             <style type="text/css">
             .adslot_1 { display:block; width: 100%; height: 50px; }
             @media (max-width: 400px) { .adslot_1 { display: none; } }
             @media (min-width:500px) { .adslot_1 { height: 60px; } }
             @media (min-width:800px) { .adslot_1 { height: 90px; } }
             .adslot_1[data-ad-status="unfilled"] {
             display: none !important;
             }

             </style>

             <ins class="adsbygoogle adslot_1"
             style="display:block;"
             data-ad-client="ca-pub-5291127435009817"
             data-ad-slot="1998080902"></ins>
             <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5291127435009817"
             crossorigin="anonymous"></script>
             <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
             </script>
             </div>
        -->


        <div class="container">
            <!-- Explanation modal -->
            <div class="modal fade" id="explanationModal" tabindex="-1" aria-labelledby="explanationModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="explanationModalLabel">How to Play</h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p>
                                Name countries to travel from the
                                <b style="color:var(--country-from)">Start Country</b> to the <b style="color:var(--country-to)">End Country</b>.
                                Try to get there in as few guesses as possible.
                            </p>

                            <p>
                                Guess countries in any order. You must name every country you'd pass through, so exclaves don't make new connections.
                            </p>
                            <p>
                                After each guess you get an emoji signaling how much the computer liked it.
                            </p>

                            <div class="explanation-grid container">
                                <div class="row">
                                    <div class="big-text col-2">âœ…</div>
                                    <div class="col"><span>Guess is <b>optimal</b>! You're one step closer.</span></div>
                                </div>

                                <div class="row">
                                    <div class="big-text col-2">ðŸŸ§</div>
                                    <div class="col"><span>Guess is <b>pretty good</b>. You're in the ball park... This country is close, but not on the route with the fewest guesses.</span></div>
                                </div>

                                <div class="row">
                                    <div class="big-text col-2">ðŸŸ¥</div>
                                    <div class="col"><span>Guess is <b>not great</b>. Your guess is a significant detour.</span></div>
                                </div>

                                <div class="row">
                                    <div class="big-text col-2">â¬›</div>
                                    <div class="col"><span>There isn't even a way to get from your guess to the target country by land. Try again, please ðŸ¤¦.</span></div>
                                </div>
                            </div>

                            <p>
                                Direct jumps over water within a country are allowed - e.g. the Bosphorus in <b>Turkey</b>, or between the islands of <b>Malaysia</b>.
                                Jumps that require you go nearer other countries don't count - e.g. <b>France</b> <-> <b>French Guiana</b> or <b>Spain</b> <-> <b>Ceuta/ Melilla</b>.
                            </p>
                            <p>
                                Guesses not connected to the <b style="color:var(--country-from)">Start Country</b> are colored gray.
                            </p>
                            <p>
                                Click <b>More Info & FAQ</b> below for more info on borders, regions and connections in the game, as well as other FAQ!
                            </p>

                            <p>A new travle is released each night at midnight, local time.</p>

                            <!-- <div class="alert alert-dark" role="alert">
                                 UPDATE: Travle now has ads. This is to help support:
                                 <ol>
                                 <li>New games: Travle between states and counties in lots of countries [COMING SOON].</li>
                                 <li>Translation: Travle will be soon available in 20+ languages!</li>
                                 <li>Everything Else: Improvements, updates, features and more!</li>
                                 </ol>
                                 I hope you'll feel it's worth it when you see what's in store :).
                                 </div>
                            -->
                            <p>
                                travle uses: <a href="https://www.naturalearthdata.com/">Natural Earth</a> data,
                                <a href="https://getbootstrap.com">Bootstrap v5.3</a> for layout and UI design,
                                <a href="https://d3js.org/">d3.js</a> for map rendering,
                                and colours based on <a href="https://github.com/sainnhe/gruvbox-material">Gruvbox Materal</a>.
                            </p>
                        </div>
                        <div class="modal-footer">
                            <a href="extra_info.html"><button type="button" class="btn btn-secondary btn-lg" data-bs-dismiss="modal">
                                More Info & FAQ
                            </button></a>
                            <button type="button" class="btn btn-primary btn-lg" data-bs-dismiss="modal">
                                Done
                            </button>
                        </div>

                    </div>
                </div>
            </div>

            <!-- Results modal -->
            <div class="modal fade" id="resultsModal" tabindex="-1" aria-labelledby="resultsModalTitle" style="display: none;" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content results-modal">
                        <div class="modal-header">
                            <i class="fa-regular fa-compass" style="font-size:1.25em; padding-right: 5px;"></i>
                            <h5 class="modal-title" id="resultsModalTitle">You ?</h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body" id="resultsModalContent">

                            <div class="results-grid container">
                                <div class="row"><div class="col statistics-text">
                                    Statistics
                                </div></div>
                                <div class="row">
                                    <div class="col-3"><div class="num" id="resultPlayed">0</div><div class="txt">Played</div></div>
                                    <div class="col-3"><div class="num" id="resultWinPerc">0</div><div class="txt">Win %</div></div>
                                    <div class="col-3"><div class="num" id="resultStreakCurrent">0</div><div class="txt">Current Streak</div></div>
                                    <div class="col-3"><div class="num" id="resultStreakMax">0</div><div class="txt">Max Streak</div></div>
                                </div>
                            </div>

                            <div id="resultsModalText"></div>
                            <p class="results-emoji-breakdown" id="resultsModalEmojis"></p>
                            <div id="googleMapsLink"></div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" id="resultsModelShareButton" onclick="share()" class="btn btn-primary btn-lg invisible">
                                Share
                                <i class="fa-solid fa-share-nodes"></i>
                            </button>
                            <button type="button" id="resultsModelCopyButton" data-clipboard-text="SANtHO" class="btn btn-primary btn-lg invisible">
                                Copy Results
                                <i class="fas fa-clipboard"></i>
                            </button>
                            <button type="button" class="btn btn-secondary btn-lg" data-bs-dismiss="modal">
                                Done
                            </button>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Main ui elements -->
            <div class="row" style="justify-content: center">
                <div class="col" style="max-width: 60vh">
                    <div class="alert-container" data-alert-container></div>

                    <!-- Title -->
                    <div style="margin-bottom: 5px;"> <h2 id="title-text"></h2> </div>

                    <!-- Map -->
                    <div id="viz">
                        <svg id="d3-map"></svg>
                    </div>

                    <!-- Guess box & button -->
                    <div class="input-group mb-3 ui-padding autocomplete-drop-down dropup">
                        <input type="text" id="countries-input" class="form-control input-lg"
                               placeholder="Enter a country, territory..."
                               aria-label="Recipient's username" aria-describedby="btn-guess">
                        <button id="btn-guess" class="btn btn-outline-success btn-lg guess-button" type="button">Guess (1/12)</button>
                    </div>

                    <h5>
                        Past guesses (click to show/hide):
                    </h5>
                    <div id="past-guesses"></div>
                </div>
            </div>
        </div>

        <script type="text/javascript" src="src/light_dark.js"></script>

        <!-- <script src="src/tmp_cdn/i18next.min.js" crossorigin="anonymous"></script>
             <script src="src/tmp_cdn/bootstrap.bundle.min.js" crossorigin="anonymous"></script> -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"></script>
        <script type="text/javascript" src="src/fitty.js"></script>

        <!-- Glow Cookies v3.0.1 -->
        <script src="https://cdn.jsdelivr.net/gh/manucaralmo/GlowCookies@3.0.1/src/glowCookies.min.js"></script>
        <script>
         glowCookies.start('en', {
             style: 1,
             analytics: 'UA-143421297-1',
             bannerDescription: 'We use our own and third party cookies to store game data and analyze web traffic.',
             // facebookPixel: '990955817632355',
             policyLink: '/pages/privacy-policy/',

             hideAfterClick: true,
             customScript: [{
                 type: 'custom',
                 position: 'body',
                 // content: 'console.log("Cookies accepted!"); let COOKIES_ACCEPTED = true;',
             }]
         });
        </script>
        <script src="https://cdn.jsdelivr.net/npm/fuzzysort@2.0.4/fuzzysort.min.js"></script>
        <script type="text/javascript" src="src/autocomplete_bs.js"></script>
        <script type="text/javascript" src="src/clipboard.min.js"></script>
        <script type="text/javascript" src="src/map_display.js"></script>
        <script type="text/javascript" src="src/game.js"></script>

        <!-- <script>
             window.onload = () => {
             const myModal = new bootstrap.Modal('#updateModal');
             myModal.show();
             }
             </script> -->
    </body>
</html>
