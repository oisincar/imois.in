<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Travle</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- <script src="https://d3js.org/d3.v6.js"></script> -->
        <script type="text/javascript" src="src/d3.min.js"></script>
        <!-- Tooltip package -->
        <!-- <script src="https://unpkg.com/d3-v6-tip@1.0.6/build/d3-v6-tip.js"></script> -->

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
              rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://kit.fontawesome.com/bd68d721d7.js" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="css/style.css">

        <link rel="icon" href="/icon/favicon.ico" sizes="16x16">
        <link rel="icon" href="/icon/icon_128x128.png" sizes="128x128">
        <!-- <link rel="apple-touch-icon" href="/apple-touch-icon.png"> -->
        <!-- Place favicon.ico in the root directory -->

        <style>

         .stroke {
             fill: none;
             stroke: #000;
             stroke-width: 1px;
         }

         .fill {
             fill: #f2f2f2;
         }

         .graticule {
             fill: none;
             stroke: #777;
             stroke-width: .5px;
             stroke-opacity: .5;
         }

         .land {
             fill: darkgrey;
         }

         .boundary {
             fill: none;
             stroke: #fff;
             stroke-width: .5px;
         }

        </style>

    </head>
    <body>

        <nav class="navbar navbar-dark bg-dark navbar-expand-sm">
            <div class="container-fluid">
                <div class="navbar-brand navbar-logo">
                    Travle
                </div>
                <div class="brand">
                    <div class="brand-text">
                        <a href="/games" title="im_oisin" rel="home">
                            im_oisin
                        </a>
                    </div>
                </div>

                <form class="justify-content-end">
                    <button type="button" onclick="showResultsModal(0)" class="btn btn-lg btn-outline-secondary nav-button">
                        <span class="fa-solid fa-chart-simple"></span>
                    </button>
                    <button type="button" class="btn btn-lg btn-outline-secondary nav-button" data-bs-toggle="modal" data-bs-target="#explanationModal">
                        <span class="fa-solid fa-question"></span>
                    </button>
                </form>
            </div>
        </nav>
        <div class="container">

            <!-- Explanation modal -->
            <div class="modal fade" id="explanationModal" tabindex="-1" aria-labelledby="explanationModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="explanationModalLabel">How to Play</h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p>
                                Guess countries until you've made a path from <b>start</b> to <b>end</b>!
                                You can guess the countries in any order.
                                Try to get there in as few guesses as possible by land - sea travel doesn't count.
                            </p>

                            <p>
                                After each guess you get an emoji signaling how much the computer liked it.
                            </p>

                            <div class="explanation-grid container">
                                <div class="row">
                                    <div class="big-text col-2">âœ…</div>
                                    <div class="col"><span>Guess is <b>optimal</b>! This country is on the shortest route from start to end.</span></div>
                                </div>

                                <div class="row">
                                    <div class="big-text col-2">ðŸŸ§</div>
                                    <div class="col"><span>Guess is <b>pretty good</b>. You're in the ball park... This country is on a possible route, but not the shortest.</span></div>
                                </div>

                                <div class="row">
                                    <div class="big-text col-2">ðŸŸ¥</div>
                                    <div class="col"><span>Guess is <b>not great</b>. Your guess is a significant detour.</span></div>
                                </div>

                                <div class="row">
                                    <div class="big-text col-2">â¬›</div>
                                    <div class="col"><span>There isn't even a way to get from your guess to the target country by land. Try again, please ðŸ¤¦.</span></div>
                                </div>
                            </div>

                            <p>A new Travle is released each night at midnight.</p>

                            <p>Travle is made by me, Oisin Carroll. If you enjoyed the game it'd be awesome if you shared it!
                                If you've any thoughts/improvements email me at
                                <a href="mailto: hi@imois.in">hi@imois.in</a> or find me on Twitter <a href="https://twitter.com/onemoremoose">@onemoremoose</a>.
                                Thanks for playing!
                            </p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary btn-lg" data-bs-dismiss="modal">Ok</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results modal -->
            <div class="modal fade" id="resultsModal" tabindex="-1" aria-labelledby="resultsModalTitle" style="display: none;" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content results-modal">
                        <div class="modal-header">
                            <h5 class="modal-title" id="resultsModalTitle">You ?</h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body" id="resultsModalContent">

                            <div class="results-grid container">
                                <div class="row"><div class="col statistics-text">Statistics</div></div>
                                <div class="row">
                                    <div class="col-3"><div class="num" id="resultPlayed">0</div><div class="txt">Played</div></div>
                                    <div class="col-3"><div class="num" id="resultWinPerc">0</div><div class="txt">Win %</div></div>
                                    <div class="col-3"><div class="num" id="resultStreakCurrent">0</div><div class="txt">Current Streak</div></div>
                                    <div class="col-3"><div class="num" id="resultStreakMax">0</div><div class="txt">Max Streak</div></div>
                                </div>
                            </div>

                            <div id="resultsModalText">travle #?: ?? guesses</div>
                            <p class="results-emoji-breakdown" id="resultsModalEmojis"></p>
                            <div id="googleMapsLink"></div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" id="resultsModelShareButton" onclick="share()" class="btn btn-primary btn-lg invisible">
                                Share <i class="fa-solid fa-share-nodes"></i>
                            </button>
                            <button type="button" id="resultsModelCopyButton" data-clipboard-text="SANtHO" class="btn btn-primary btn-lg invisible">
                                Copy Results <i class="fas fa-clipboard"></i>
                            </button>
                            <button type="button" class="btn btn-secondary btn-lg" data-bs-dismiss="modal">Done</button>
                        </div>
                    </div>
                </div>
            </div>








            <div class="row" style="justify-content: center">
                <div class="col" style="max-width: 60vh">
                    <div class="alert-container" data-alert-container></div>

                    <div style="margin-bottom: 5px;"> <h2 id="title-text"></h2> </div>

                    <div id="viz">
                        <svg id="d3-map"></svg>
                    </div>

                    <div id="past-guesses"></div>

                    <div>
                        <div class="autocomplete-drop-down dropup">
                            <input id="countries-input" placeholder="Enter a country, territory..." type="text">
                        </div>
                        <div>
                            <button id="btn-guess" class="btn green" style="width: 100%">Guess</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"></script>
        <script type="text/javascript" src="src/fitty.js"></script>

        <!-- Glow Cookies v3.0.1 -->
        <script src="https://cdn.jsdelivr.net/gh/manucaralmo/GlowCookies@3.0.1/src/glowCookies.min.js"></script>
        <script>
         glowCookies.start('en', {
             style: 1,
             analytics: 'UA-143421297-1',
             bannerDescription: 'We use our own and third party cookies to store game data and analyize web traffic.',
             // facebookPixel: '990955817632355',
             policyLink: '/pages/privacy-policy/',

             hideAfterClick: true,
             customScript: [{
                 type: 'custom',
                 position: 'body',
                 // content: 'console.log("Cookies accepted!"); let COOKIES_ACCEPTED = true;',
             }]
         });
        </script>
        <script src="https://cdn.jsdelivr.net/npm/fuzzysort@2.0.4/fuzzysort.min.js"></script>
        <script type="text/javascript" src="src/autocomplete_bs.js"></script>
        <script type="text/javascript" src="src/clipboard.min.js"></script>
        <script type="text/javascript" src="src/map_display.js"></script>
        <script type="text/javascript" src="src/game.js"></script>
    </body>
</html>
